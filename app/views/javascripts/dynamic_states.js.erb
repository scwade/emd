// Defined functions

// Register event with document, disable elements

  document.observe("dom:loaded", function() {
  
    // Disable state, zip5, zip4
    $('patient_profile_state_province').disable().style.color='gray';
    $('patient_profile_zip5').disable().style.color='gray';
    $('patient_profile_zip4').disable().style.color='gray';
  
    // Register callback with event handler
    $('patient_profile_city_auto_complete').observe('click', respondToChange);
  });

  function respondToChange(event) {
   //alert(event.type);
   // Scrub extra spaces
   var array = $F('patient_profile_city').strip().split(",");

   // Assign user selection to city, state, and zip
   $('patient_profile_city').value = array[0];
   $('patient_profile_state_province').value = array[1];
   $('patient_profile_zip5').value = array[2];

   // Scrub extra spaces
   $('patient_profile_state_province').value = $F('patient_profile_state_province').strip();
   $('patient_profile_zip5').value = $F('patient_profile_zip5').strip();
   
   // Enable state, zip5, zip4 
   $('patient_profile_state_province').enable().style.color='black';
   $('patient_profile_zip5').enable().style.color='black';
   $('patient_profile_zip4').enable().style.color='black';

   return false;
  };

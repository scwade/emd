<!-- begin new 'patient profile' -->
<% javascript 'dynamic_states' %>
<% title "New - Patient Profile" %>

<div id="form">

  <% form_for @patient_profile do |f| %>

    <div class="formInput clearBoth">
      <p>
        <%= f.label ("patient id: ").titlecase %>
        <%= f.text_field :pmd_patient_id, :size=> 12, :readonly => :readonly, :style=>"font-size: 11px;" %>
      </p>
    </div><br class="clearBoth" />

    <div class="formInput">
      <p>
        <%= f.label ("user id:").titlecase %>
        <%= f.text_field :pmd_user_id, :size=> 12, :readonly => :readonly, :style=>"font-size: 11px;" %>
      </p>
    </div><br class="clearBoth" />
   
    <h5><p> Contact Information: </p></h5>
    <%=error_messages_for(:patient_profile) %>

    <div class="formInput clearBoth">
        <%= f.label :physician_id %><br />
        <%= f.select(:physician_id,
            {'Maria Wade' => 10, 'Scott Wade' => 11, 'Rolland Hoyt' => 12, 'Jacki Hoyt' => 13},
            {:selected => @patient_profile.physician_id}, {:tabindex=>1}) %>
    </div><br class="clearBoth" />

    <div class="formInput">
      <p><%= f.label (:first_name).titlecase %></p>
      <p><%= f.text_field :first_name, :size=> 32 %></p>
    </div>

    <div class="formInput">
      <p><%= f.label (:last_name).titlecase %></p>
      <p><%= f.text_field :last_name, :size=> 32 %></p>
    </div><br class="clearBoth" />
      
    <div class="formInput">
      <p><%= f.label :email %></p>
      <p><%= f.text_field :email, :size=> 32 %></p>
    </div>

    <div class="formInput">
      <p><%= f.label (:email_confirmation).titlecase %></p>
      <p><%= f.text_field :email_confirmation, :size=> 32 %></p>
    </div><br class="clearBoth" />

    <div class="formInput">
      <p><%= f.label :home %></p>
      <p><%= f.text_field :phone_home, :size=> 9, :maxlength=>10 %></p>
    </div>

    <div class="formInput">
      <p><%= f.label :work %></p>
      <p><%= f.text_field :phone_work, :size=> 9, :maxlength=>10 %></p>
    </div>

    <div class="formInput">
      <p><%= f.label :mobile %></p>
      <p><%= f.text_field :phone_mobile, :size=> 9, :maxlength=>10 %></p>
    </div>

    <div class="formInput">
      <p><%= f.label :fax %></p>
      <p><%= f.text_field :phone_fax, :size=> 9, :maxlength=>10 %></p>
    </div>

    <div class="formInput">
      <p><%= f.label :emergency %></p>
      <p><%= f.text_field :phone_emergency, :size=> 9, :maxlength=>10 %></p>
    </div><br class="clearBoth" />

   <div class="formInput">
      <p><%= f.label (:primary_address).titlecase %></p>
      <p><%= f.text_field :primary_address, :size=> 40 %></p>
    </div>

    <div class="formInput">
      <p><%= f.label  (:alternate_address).titlecase + ' ( Apt#, P.O. Box )' %></p>
      <p><%= f.text_field :alternate_address, :size=> 40 %></p>
    </div><br class="clearBoth" />

    <div class="formInput">
      <p><%= f.label (:city).titlecase %></p>
      <p><%= text_field_with_auto_complete :patient_profile, :city,
         { :size=>32 },
         { :min_chars=>3, :skip_style => true,
           :method=>:get, :url=>reference_address_path(:js), :with=>"'search=' + element.value"  } %>
      </p>
    </div>

    <div class="formInput">
      <p><%= f.label (:state_province).titlecase %></p>
      <p><%= f.text_field :state_province, :size=> 4 %></p>
    </div>

    <div class="formInput">
      <p><%= f.label (:zip5).titlecase %></p>
      <p><%= f.text_field :zip5, :size=> 7 %></p>
    </div>

    <div class="formInput">
      <p><%= f.label (:zip4).titlecase %></p>
      <p><%= f.text_field :zip4, :size=> 6 %></p>
    </div><br class="clearBoth" />

    <div class="formInput">
      <p><%= f.label (:ethnicity).titlecase %></p>
      <% @e = ReferenceEthnicity.find(:all, :order => "description").map { |u| [u.description, u.description] } %>
      <p><%= f.select(:ethnicity, @e, {:selected=>@patient_profile.ethnicity} ) %></p>
    </div><br class="clearBoth" />

    <div class="formInput">
      <p>Gender:</p>
      <p><%=f.radio_button :gender, "M", :checked => true %> Male</p>
      <p><%=f.radio_button :gender, "F" %> Female</p>
    </div><br class="clearBoth" />

    <div class="formInput">
      <p><%= f.label (:date_of_birth).titlecase %></p>
      <%= f.date_select(:date_of_birth, {:discard_minute=>true, :start_year=>1900, :end_year=>Time.now.year}) %>
    </div><br class="clearBoth" />

    <div class="formInput">
      <br />
      <p><%= f.submit 'Create', :confirm => 'Are you sure?' %></p>
    </div><br class="clearBoth" />

    <p><%= link_to 'Index', patient_profiles_path %></p>

   <% end %>
</div><!-- end of 'new patient profile' -->

<h1>New patient_condition</h1>

<% form_for(@patient_condition) do |f| %>

  <%= f.error_messages %>
####SCW - this was working - but something went arye
#### Check this URL out. drop the f. for collection_select.
#### http://www.ruby-forum.com/topic/82811
  <p>
    <%= f.label :condition_name %><br />
    <%= f.collection_select (:patient_condition.conditions, :name, Condition.find(:all), :id,  {:prompt => "select"}) %>
    

####SCW - this one displays all conditions to the error screen.
<%= collection_select (:patient_condition, :condition_id, @conditions, Condition.find(:all), :id,  {:prompt => "select"}) %>
    
  </p>

  <p>
    <%= f.label :start_date %><br />
    <%= f.date_select :start_date %>
  </p>
  <p>
    <%= f.label :end_date %><br />
    <%= f.date_select :end_date %>
  </p>
  <p>
    <%= f.label :treated_by %><br />
    <%= f.text_field :treated_by %>
  </p>
  <p>
    <%= f.label :treat_notes %><br />
    <%= f.text_field :treat_notes %>
  </p>
  <p>
    <%= f.submit 'Create' %>
  </p>
<% end %>

<%= link_to 'Back', patient_conditions_path %>
